{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Easy Moss Global Schema",
  "allOf": [
    {
      "$id": "https://github.com/mfbutner/PrairieLearnEasyMoss/blob/main/question_overridables.schema.json"      
    },
    {
      "type": "object",
      "properties": {
        "assignment_info": {
          "description": "Information about each individual assignment. If a config option appears at both the top level and an assignment, the assignment's value will overrider the top level default.",
          "type": "array",
          "minItems": 1,
          "uniqueItems" : true,
          "items": {
            "$id": "https://github.com/mfbutner/PrairieLearnEasyMoss/blob/main/question.schema.json"
          }
        }
      },
      "required": [
        "assignment_info"
      ],
      "$comment": "If the any of the following properties doesn't appear at the the top level of the config then it must appear within an assignment.",
      "allOf": [
        {
          "if": {
            "required": [
              "question_path"
            ]
          },
          "then": {
            "$comment": "Purposefully left empty because if the required property exists the rest of the schema already specifies what is a valid value."
                    },
          "else": {
            "properties": {
              "assignment_info": {
                "items": {
                  "required": [
                    "question_path"
                  ]
                }
              }
            }
          }
        },
        {
          "if": {
            "required": [
              "language"
            ]
          },
          "then": {
            "$comment": "Purposefully left empty because if the required property exists the rest of the schema already specifies what is a valid value."
          },
          "else": {
            "properties": {
              "assignment_info": {
                "items": {
                  "required": [
                    "language"
                  ]
                }
              }
            }
          }
        }
      ]
    }
  ]
}